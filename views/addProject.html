<!DOCTYPE html>

<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

    <title>
        <%= title %>
    </title>
    <link rel='stylesheet' href='https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css' />
    <link rel='stylesheet' href='/stylesheets/dashboard.css' />
    <!--select -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css">
    <!-- table -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css">

    <style>
        .item-content {
            display: none;
        }
    </style>
</head>

<body>

    <% include nav.html %>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 col-md-2 sidebar">
                <ul class="nav nav-sidebar">
                    <li class="nav-item project-nav"><a href="#" onclick='projectClick();return false;'>项目 </a></li>
                    <li class="nav-item demand-nav"><a href="#" onclick='demandClick();return false;'>需求</a></li>
                    <li class="nav-item version-nav"><a href="#" onclick='versionClick();return false;'>版本</a></li>
                </ul>
            </div>
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
                <div class="item-content item-project">
                    <h2 class="sub-header">项目信息</h2>
                    <div class="row ">
                        <div class="col-md-1"></div>
                        <div class="col-md-8">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="pjName" class="col-sm-2 control-label">项目名称</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="pjName" placeholder="项目名称">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pjId" class="col-sm-2 control-label">项目编号</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="pjId" placeholder="项目编号" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pjDesc" class="col-sm-2 control-label">项目成员</label>
                                    <div class="col-sm-8 row">
                                        <div class="col-xs-4">
                                            <button type="button" class="btn btn-default btn-block " disabled><b>PM</b></button>
                                        </div>
                                        <div class="col-xs-8">
                                            <select id="usertype" title="请选择项目负责人" name="usertype" class="selectpicker show-tick form-control" data-live-search="false">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                      </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pjDesc" class="col-sm-2 control-label"></label>
                                    <div class="col-sm-8 row">
                                        <div class="col-xs-4">
                                            <button type="button" class="btn btn-default btn-block" disabled><b>DE</b></button>
                                        </div>
                                        <div class="col-xs-8">
                                            <select id="usertype" title="请选择开发人员" name="usertype" class="selectpicker show-tick form-control" multiple data-live-search="false">
                                                            <option>1</option>
                                                            <option>2</option>
                                                            <option>3</option>
                                                            <option>4</option>
                                                            <option>5</option>
                                                          </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pjDesc" class="col-sm-2 control-label"></label>
                                    <div class="col-sm-8 row">
                                        <div class="col-xs-4">
                                            <button type="button" class="btn btn-default btn-block" disabled><b>TE</b></button>
                                        </div>
                                        <div class="col-xs-8">
                                            <select id="usertype" title="请选择测试人员" name="usertype" class="selectpicker show-tick form-control" multiple data-live-search="false">
                                                                <option>1</option>
                                                                <option>2</option>
                                                                <option>3</option>
                                                                <option>4</option>
                                                                <option>5</option>
                                                              </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pjDesc" class="col-sm-2 control-label"></label>
                                    <div class="col-sm-8 row">
                                        <div class="col-xs-4">
                                            <button type="button" class="btn btn-default btn-block" disabled><b>DA</b></button>
                                        </div>
                                        <div class="col-xs-8">
                                            <select id="usertype" title="请选择需求人员" name="usertype" class="selectpicker show-tick form-control" multiple data-live-search="false">
                                                                    <option>1</option>
                                                                    <option>2</option>
                                                                    <option>3</option>
                                                                    <option>4</option>
                                                                    <option>5</option>
                                                                  </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pjDesc" class="col-sm-2 control-label">项目描述</label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control" rows="5" id="pjDesc" placeholder="项目描述"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label"></label>
                                    <div class="col-sm-8 row">
                                        <div class=" col-xs-6">
                                            <input class="btn btn-success btn-block" type="submit" value="提交">
                                        </div>
                                        <div class="col-xs-6">
                                            <input class="btn btn-warning btn-block" type="reset" value="重置">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col-md-3"></div>
                    </div>
                </div>
                
                <div class="item-content item-demand">
                    <h2 class="sub-header">需求列表</h2>
                    <div id="toolbar" class="btn-group">
                        <button id="btn_add" type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal" data-whatever="111">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                        </button>
                    </div>
                    <table id="tb_departments"></table>

                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">新增需求</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-md-1"></div>
                                        <div class="col-md-10">
                                            <form class="form-horizontal">
                                                <div class="form-group ">
                                                    <label for="pjName" class="col-sm-2 control-label">项目ID</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="pjName" placeholder="项目ID">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="pjName" class="col-sm-2 control-label">需求名称</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="pjName" placeholder="需求名称">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="pjId" class="col-sm-2 control-label">需求编号</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="pjId" placeholder="项目编号" readonly>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="pjDesc" class="col-sm-2 control-label">项目描述</label>
                                                    <div class="col-sm-8">
                                                        <textarea class="form-control" rows="5" id="pjDesc" placeholder="项目描述"></textarea>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="col-md-1">

                                        </div>

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary">提交</button>
                                  <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="item-content item-version">
                    <h2 class="sub-header">版本列表</h2>
                    <div id="toolbar2" class="btn-group">
                        <button id="btn_add" type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal1" data-whatever="111">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                            </button>
                    </div>
                    <table id="tb_departments2"></table>

                    <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">新增版本</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <form class="form-horizontal">
                                                    <div class="form-group ">
                                                        <label for="pjName" class="col-sm-2 control-label">项目ID</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control" id="pjName" placeholder="项目ID" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="pjName" class="col-sm-2 control-label">版本代号</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control" id="pjName" placeholder="版本代号">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="pjId" class="col-sm-2 control-label">计划开始</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control" id="pjId" placeholder="计划开始" >
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="pjId" class="col-sm-2 control-label">计划结束</label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control" id="pjId" placeholder="计划结束">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="pjDesc" class="col-sm-2 control-label">版本描述</label>
                                                        <div class="col-sm-8">
                                                            <textarea class="form-control" rows="5" id="pjDesc" placeholder="版本描述"></textarea>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="col-md-1">
    
                                            </div>
    
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary">提交</button>
                                      <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--select -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>
    <!-- table -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/locale/bootstrap-table-zh-CN.min.js"></script>

    <script>
        $(function () {
                //1.初始化Table
                var oTable1 = new TableInit1();
                oTable1.Init();

                var oTable2 = new TableInit2();
                oTable2.Init();

                projectClick();  
        });

            var TableInit1 = function () {
                var oTableInit = new Object();
                //初始化Table
                oTableInit.Init = function () {
                    $('#tb_departments').bootstrapTable({
                        toolbar: '#toolbar',                //工具按钮用哪个容器
                        checkboxHeader:false,
                        striped: true,                      //是否显示行间隔色
                        cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                        pagination: true,                   //是否显示分页（*）
                        sidePagination: "server",           //分页方式：client客户端分页，server服务端分页（*）
                        pageNumber: 1,                      //初始化加载第一页，默认第一页
                        pageSize: 10,                       //每页的记录行数（*）
                        pageList: [10, 20, 50],             //可供选择的每页的行数（*）
                        showColumns: true,                  //是否显示所有的列
                        showRefresh: true,                  //是否显示刷新按钮
                        minimumCountColumns: 2,             //最少允许的列数
                        clickToSelect: true,                //是否启用点击选中行
                        height: 500,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                        uniqueId: "ID",                     //每一行的唯一标识，一般为主键列
                        columns: [{
                                checkbox: true
                            }, {
                                field: 'id',
                                title: '需求编号'
                            }, {
                                field: 'name',
                                title: '需求名称'
                            }, {
                                field: 'status',
                                title: '需求状态',
                                formatter:function(data){
                                    if(data == 1){
                                        return "进行中";
                                    }else{
                                        return "停止";
                                    }
                                }
                            }, {
                                field: 'Desc',
                                title: '描述'
                            },]
                    });
                };
                return oTableInit;
            };

            var TableInit2 = function () {
                var oTableInit = new Object();
                //初始化Table
                oTableInit.Init = function () {
                    $('#tb_departments2').bootstrapTable({
                        toolbar: '#toolbar2',                //工具按钮用哪个容器
                        checkboxHeader:false,
                        striped: true,                      //是否显示行间隔色
                        cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                        pagination: true,                   //是否显示分页（*）
                        sidePagination: "server",           //分页方式：client客户端分页，server服务端分页（*）
                        pageNumber: 1,                      //初始化加载第一页，默认第一页
                        pageSize: 10,                       //每页的记录行数（*）
                        pageList: [10, 20, 50],             //可供选择的每页的行数（*）
                        showColumns: true,                  //是否显示所有的列
                        showRefresh: true,                  //是否显示刷新按钮
                        minimumCountColumns: 2,             //最少允许的列数
                        clickToSelect: true,                //是否启用点击选中行
                        height: 500,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                        uniqueId: "ID",                     //每一行的唯一标识，一般为主键列
                        columns: [{
                                checkbox: true
                            }, {
                                field: 'id',
                                title: '需求编号'
                            }, {
                                field: 'name',
                                title: '需求名称'
                            }, {
                                field: 'status',
                                title: '需求状态',
                                formatter:function(data){
                                    if(data == 1){
                                        return "进行中";
                                    }else{
                                        return "停止";
                                    }
                                }
                            }, {
                                field: 'Desc',
                                title: '描述'
                            },]
                    });
                };
                return oTableInit;
            };

    </script>

    <script>
        //模态框赋值
        $('#myModal').on('show.bs.modal', function (event) {
                var button = $(event.relatedTarget) ;
                var recipient = button.data('whatever') ;
                var modal = $(this);
                modal.find('.modal-body input').val(recipient);
            })
    </script>  

    <script>
        function projectClick() {
            $(".nav-item").removeClass('active');
            $(".project-nav").addClass('active');
            $('.item-content').hide();
            $('.item-project').show();
        }
        function demandClick() {
            $(".nav-item").removeClass('active');
            $(".demand-nav").addClass('active');
            $('.item-content').hide();
            $('.item-demand').show();
        }
        function versionClick() {
            $(".nav-item").removeClass('active');
            $(".version-nav").addClass('active');
            $('.item-content').hide();
            $('.item-version').show();
        }
    </script>
</body>

</html>